{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useSocket.js\nimport { useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { showNotification } from '../utils/notificationUtils'; // Import the utility function\n\nconst socket = io('http://localhost:3002'); // Adjust the URL as needed\n\nconst useSocket = () => {\n  _s();\n  useEffect(() => {\n    socket.on('incomingCall', async data => {\n      const {\n        offer,\n        from\n      } = data;\n\n      // Display notification\n      showNotification(`Incoming call from user: ${from}`);\n\n      // Optionally, handle the incoming offer (e.g., create an answer)\n      // Example: setUpPeerConnection(offer);\n    });\n    return () => {\n      socket.off('incomingCall');\n    };\n  }, []);\n};\n_s(useSocket, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\nexport default useSocket;","map":{"version":3,"names":["useEffect","io","showNotification","socket","useSocket","_s","on","data","offer","from","off"],"sources":["C:/Users/Sreyas/OneDrive/Desktop/BellaCode/chat-app-frontend/src/hooks/useSocket.js"],"sourcesContent":["// src/hooks/useSocket.js\r\nimport { useEffect } from 'react';\r\nimport io from 'socket.io-client';\r\nimport { showNotification } from '../utils/notificationUtils'; // Import the utility function\r\n\r\nconst socket = io('http://localhost:3002'); // Adjust the URL as needed\r\n\r\nconst useSocket = () => {\r\n    useEffect(() => {\r\n        socket.on('incomingCall', async (data) => {\r\n            const { offer, from } = data;\r\n\r\n            // Display notification\r\n            showNotification(`Incoming call from user: ${from}`);\r\n\r\n            // Optionally, handle the incoming offer (e.g., create an answer)\r\n            // Example: setUpPeerConnection(offer);\r\n        });\r\n\r\n        return () => {\r\n            socket.off('incomingCall');\r\n        };\r\n    }, []);\r\n};\r\n\r\nexport default useSocket;\r\n"],"mappings":";AAAA;AACA,SAASA,SAAS,QAAQ,OAAO;AACjC,OAAOC,EAAE,MAAM,kBAAkB;AACjC,SAASC,gBAAgB,QAAQ,4BAA4B,CAAC,CAAC;;AAE/D,MAAMC,MAAM,GAAGF,EAAE,CAAC,uBAAuB,CAAC,CAAC,CAAC;;AAE5C,MAAMG,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpBL,SAAS,CAAC,MAAM;IACZG,MAAM,CAACG,EAAE,CAAC,cAAc,EAAE,MAAOC,IAAI,IAAK;MACtC,MAAM;QAAEC,KAAK;QAAEC;MAAK,CAAC,GAAGF,IAAI;;MAE5B;MACAL,gBAAgB,CAAC,4BAA4BO,IAAI,EAAE,CAAC;;MAEpD;MACA;IACJ,CAAC,CAAC;IAEF,OAAO,MAAM;MACTN,MAAM,CAACO,GAAG,CAAC,cAAc,CAAC;IAC9B,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;AACV,CAAC;AAACL,EAAA,CAhBID,SAAS;AAkBf,eAAeA,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}