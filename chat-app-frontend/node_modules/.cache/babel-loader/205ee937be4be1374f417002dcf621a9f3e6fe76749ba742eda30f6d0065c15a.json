{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sreyas\\\\OneDrive\\\\Desktop\\\\BellaCode\\\\chat-app-frontend\\\\src\\\\components\\\\VideoCallPopup.js\",\n  _s = $RefreshSig$();\n// src/components/VideoCallPopup.js\n\nimport React, { useRef, useEffect } from 'react';\nimport { useWebRTC } from '../hooks/WebRTCClient'; // Adjust the path if necessary\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoCallPopup = ({\n  onEndCall\n}) => {\n  _s();\n  const {\n    endCall\n  } = useWebRTC();\n  const localVideoRef = useRef(null);\n  const remoteVideoRef = useRef(null);\n  useEffect(() => {\n    var _localVideoRef$curren;\n    const stream = (_localVideoRef$curren = localVideoRef.current) === null || _localVideoRef$curren === void 0 ? void 0 : _localVideoRef$curren.srcObject;\n    if (stream) {\n      localVideoRef.current.srcObject = stream;\n    }\n    return () => {\n      endCall(); // Clean up the call when component unmounts\n    };\n  }, [endCall]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-60\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative w-full max-w-4xl bg-white rounded-lg shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"absolute top-2 right-2 px-4 py-2 bg-red-500 text-white rounded\",\n        onClick: () => {\n          endCall();\n          onEndCall(); // Callback to notify parent component\n        },\n        children: \"End Call\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-1/2 p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"video\", {\n            ref: localVideoRef,\n            autoPlay: true,\n            muted: true,\n            className: \"w-full h-auto border-2 border-gray-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-1/2 p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"video\", {\n            ref: remoteVideoRef,\n            autoPlay: true,\n            className: \"w-full h-auto border-2 border-gray-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoCallPopup, \"gNA/KUY12vQ8rQqkmjUZ5SCzsqU=\", false, function () {\n  return [useWebRTC];\n});\n_c = VideoCallPopup;\nexport default VideoCallPopup;\nvar _c;\n$RefreshReg$(_c, \"VideoCallPopup\");","map":{"version":3,"names":["React","useRef","useEffect","useWebRTC","jsxDEV","_jsxDEV","VideoCallPopup","onEndCall","_s","endCall","localVideoRef","remoteVideoRef","_localVideoRef$curren","stream","current","srcObject","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","autoPlay","muted","_c","$RefreshReg$"],"sources":["C:/Users/Sreyas/OneDrive/Desktop/BellaCode/chat-app-frontend/src/components/VideoCallPopup.js"],"sourcesContent":["// src/components/VideoCallPopup.js\r\n\r\nimport React, { useRef, useEffect } from 'react';\r\nimport { useWebRTC } from '../hooks/WebRTCClient'; // Adjust the path if necessary\r\n\r\nconst VideoCallPopup = ({ onEndCall }) => {\r\n  const { endCall } = useWebRTC();\r\n  const localVideoRef = useRef(null);\r\n  const remoteVideoRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const stream = localVideoRef.current?.srcObject;\r\n    if (stream) {\r\n      localVideoRef.current.srcObject = stream;\r\n    }\r\n\r\n    return () => {\r\n      endCall(); // Clean up the call when component unmounts\r\n    };\r\n  }, [endCall]);\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-60\">\r\n      <div className=\"relative w-full max-w-4xl bg-white rounded-lg shadow-lg\">\r\n        <button\r\n          className=\"absolute top-2 right-2 px-4 py-2 bg-red-500 text-white rounded\"\r\n          onClick={() => {\r\n            endCall();\r\n            onEndCall(); // Callback to notify parent component\r\n          }}\r\n        >\r\n          End Call\r\n        </button>\r\n        <div className=\"flex\">\r\n          <div className=\"w-1/2 p-2\">\r\n            <video\r\n              ref={localVideoRef}\r\n              autoPlay\r\n              muted\r\n              className=\"w-full h-auto border-2 border-gray-300 rounded\"\r\n            />\r\n          </div>\r\n          <div className=\"w-1/2 p-2\">\r\n            <video\r\n              ref={remoteVideoRef}\r\n              autoPlay\r\n              className=\"w-full h-auto border-2 border-gray-300 rounded\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoCallPopup;\r\n"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAChD,SAASC,SAAS,QAAQ,uBAAuB,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEnD,MAAMC,cAAc,GAAGA,CAAC;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EACxC,MAAM;IAAEC;EAAQ,CAAC,GAAGN,SAAS,CAAC,CAAC;EAC/B,MAAMO,aAAa,GAAGT,MAAM,CAAC,IAAI,CAAC;EAClC,MAAMU,cAAc,GAAGV,MAAM,CAAC,IAAI,CAAC;EAEnCC,SAAS,CAAC,MAAM;IAAA,IAAAU,qBAAA;IACd,MAAMC,MAAM,IAAAD,qBAAA,GAAGF,aAAa,CAACI,OAAO,cAAAF,qBAAA,uBAArBA,qBAAA,CAAuBG,SAAS;IAC/C,IAAIF,MAAM,EAAE;MACVH,aAAa,CAACI,OAAO,CAACC,SAAS,GAAGF,MAAM;IAC1C;IAEA,OAAO,MAAM;MACXJ,OAAO,CAAC,CAAC,CAAC,CAAC;IACb,CAAC;EACH,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEb,oBACEJ,OAAA;IAAKW,SAAS,EAAC,4EAA4E;IAAAC,QAAA,eACzFZ,OAAA;MAAKW,SAAS,EAAC,yDAAyD;MAAAC,QAAA,gBACtEZ,OAAA;QACEW,SAAS,EAAC,gEAAgE;QAC1EE,OAAO,EAAEA,CAAA,KAAM;UACbT,OAAO,CAAC,CAAC;UACTF,SAAS,CAAC,CAAC,CAAC,CAAC;QACf,CAAE;QAAAU,QAAA,EACH;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTjB,OAAA;QAAKW,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnBZ,OAAA;UAAKW,SAAS,EAAC,WAAW;UAAAC,QAAA,eACxBZ,OAAA;YACEkB,GAAG,EAAEb,aAAc;YACnBc,QAAQ;YACRC,KAAK;YACLT,SAAS,EAAC;UAAgD;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNjB,OAAA;UAAKW,SAAS,EAAC,WAAW;UAAAC,QAAA,eACxBZ,OAAA;YACEkB,GAAG,EAAEZ,cAAe;YACpBa,QAAQ;YACRR,SAAS,EAAC;UAAgD;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACd,EAAA,CAhDIF,cAAc;EAAA,QACEH,SAAS;AAAA;AAAAuB,EAAA,GADzBpB,cAAc;AAkDpB,eAAeA,cAAc;AAAC,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}