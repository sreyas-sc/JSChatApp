{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useSocket.js\nimport { useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { showNotification } from '../utils/notificationUtils';\nconst socket = io('http://localhost:3002'); // Adjust as needed\n\nconst useSocket = () => {\n  _s();\n  useEffect(() => {\n    console.log('Socket connected:', socket.connected);\n    socket.on('incomingCall', async data => {\n      console.log('Incoming call data:', data); // Check if data is received\n      const {\n        offer,\n        from\n      } = data;\n\n      // Display notification\n      showNotification(`Incoming call from user: ${from}`);\n    });\n    return () => {\n      socket.off('incomingCall');\n    };\n  }, []);\n};\n_s(useSocket, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\nexport default useSocket;","map":{"version":3,"names":["useEffect","io","showNotification","socket","useSocket","_s","console","log","connected","on","data","offer","from","off"],"sources":["C:/Users/Sreyas/OneDrive/Desktop/BellaCode/chat-app-frontend/src/hooks/useSocket.js"],"sourcesContent":["// src/hooks/useSocket.js\r\nimport { useEffect } from 'react';\r\nimport io from 'socket.io-client';\r\nimport { showNotification } from '../utils/notificationUtils';\r\n\r\nconst socket = io('http://localhost:3002'); // Adjust as needed\r\n\r\nconst useSocket = () => {\r\n    useEffect(() => {\r\n        console.log('Socket connected:', socket.connected);\r\n\r\n        socket.on('incomingCall', async (data) => {\r\n            console.log('Incoming call data:', data); // Check if data is received\r\n            const { offer, from } = data;\r\n\r\n            // Display notification\r\n            showNotification(`Incoming call from user: ${from}`);\r\n        });\r\n\r\n        return () => {\r\n            socket.off('incomingCall');\r\n        };\r\n    }, []);\r\n};\r\n\r\nexport default useSocket;\r\n"],"mappings":";AAAA;AACA,SAASA,SAAS,QAAQ,OAAO;AACjC,OAAOC,EAAE,MAAM,kBAAkB;AACjC,SAASC,gBAAgB,QAAQ,4BAA4B;AAE7D,MAAMC,MAAM,GAAGF,EAAE,CAAC,uBAAuB,CAAC,CAAC,CAAC;;AAE5C,MAAMG,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpBL,SAAS,CAAC,MAAM;IACZM,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEJ,MAAM,CAACK,SAAS,CAAC;IAElDL,MAAM,CAACM,EAAE,CAAC,cAAc,EAAE,MAAOC,IAAI,IAAK;MACtCJ,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEG,IAAI,CAAC,CAAC,CAAC;MAC1C,MAAM;QAAEC,KAAK;QAAEC;MAAK,CAAC,GAAGF,IAAI;;MAE5B;MACAR,gBAAgB,CAAC,4BAA4BU,IAAI,EAAE,CAAC;IACxD,CAAC,CAAC;IAEF,OAAO,MAAM;MACTT,MAAM,CAACU,GAAG,CAAC,cAAc,CAAC;IAC9B,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;AACV,CAAC;AAACR,EAAA,CAhBID,SAAS;AAkBf,eAAeA,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}